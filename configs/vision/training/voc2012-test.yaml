name: "VOC2012-FasterRCNN-ResNet"
task: "object detection"

training:
  batch_size: 1
dataset:
  MODE: "torchvision"
  NAME: "VOCDetection"
  trn_size: 11540
  val_size: 100
  # list of parameters used when using `data.dataset.torchvision_dataset` to load `torchvision.datasets`
  dataset_base_cfg:
    root: "./voc2012"
    year: "2012"
    download: True
  dataset_subset_cfg:
    trn:
      image_set: "trainval"
    val:
      image_set: "val"
  transformations: [] # same format with `transform`.
# Data augmentation for FasterRCNN is adopted from:
# https://github.com/facebookresearch/maskrcnn-benchmark/blob/main/maskrcnn_benchmark/data/transforms/build.py
# https://github.com/jwyang/faster-rcnn.pytorch/blob/master/lib/roi_data_layer/roibatchLoader.py
transform:
  [
    [
      "trn,val",
      [
        { "name": "ToTensor", "args": {} },
        { "name": "DetectionVOCLabelTransform" },
      ],
      "trn",
      [
        { "name": "DetectionCropToRatio", "args": {"max_ratio": 2, "min_ratio": 0.5} },
        { "name": "DetectionConstrainImageSize", "args": {"min_size": 600, "max_size": 1000} },
        { "name": "DetectionHFlip", "args": {"prob": 0.5} },
      ],
      "val",
      [
        { "name": "DetectionConstrainImageSize", "args": {"min_size": 800, "max_size": 1000} },
      ]
      "trn,val",
      [
        {
          "name": "Normalize",
          "args": { "mean": [0.4038, 0.4546, 0.4814], "std": [1, 1, 1] },
        },
      ],
    ],
  ]
# other useful configs.
const:
  task: "object detection"
  normalization_mean: [0.4038, 0.4546, 0.4814]
  normalization_std: [1, 1, 1]

  label_map:
    - "background"
    - "aeroplane"
    - "bicycle"
    - "bird"
    - "boat"
    - "bottle"
    - "bus"
    - "car"
    - "cat"
    - "chair"
    - "cow"
    - "diningtable"
    - "dog"
    - "horse"
    - "motorbike"
    - "person"
    - "pottedplant"
    - "sheep"
    - "sofa"
    - "train"
    - "tvmonitor"
